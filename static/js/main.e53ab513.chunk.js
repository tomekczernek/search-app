(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{38:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(8),s=n.n(c),a=n(31),i=n.n(a),r=(n(38),n(11)),o=n(83),l=n(75),j=n(76),d=n(74),m=n(77),u=n(78),b=n(79),p=n(80),h=n(32),O=n.n(h);function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return O()({method:e,url:"".concat("https://api.github.com/search/repositories?q=").concat(t),data:n})}var f={get:function(e){return x("GET",e)},post:function(e,t){return x("POST",e,t)},patch:function(e,t){return x("PATCH",e,t)},delete:function(e){return x("DELETE",e)}},g=n(84),v=n(73),y=n(1);function S(e){var t=e.loaderOpen;return Object(y.jsx)(g.a,{isOpen:t,centered:!0,children:Object(y.jsx)(v.a,{className:"text-center",children:Object(y.jsx)("p",{className:" m-0 p-3",children:"Pobieranie danych..."})})})}function N(e){var t=e.setRepoList,n=Object(c.useState)(""),s=Object(r.a)(n,2),a=s[0],i=s[1],o=Object(c.useState)(!1),h=Object(r.a)(o,2),O=h[0],x=h[1],g=function(){a&&(x(!0),f.get(a).then((function(e){t(e.data.items),x(!1)})))};return Object(y.jsxs)("div",{className:"py-2 px-0",children:[Object(y.jsx)(d.a,{inline:!0,className:"mt-2 p-2 shadow bg-light",children:Object(y.jsxs)(l.a,{className:"align-items-end",children:[Object(y.jsx)(j.a,{sm:"10",children:Object(y.jsxs)(m.a,{className:"",children:[Object(y.jsx)(u.a,{children:"Nazwa repozytorium"}),Object(y.jsx)(b.a,{type:"text",value:a,onChange:function(e){i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&g()}})]})}),Object(y.jsx)(j.a,{sm:"2",children:Object(y.jsx)(p.a,{className:"float-right m-0",color:"danger",onClick:g,children:"Szukaj"})})]})}),Object(y.jsx)(S,{loaderOpen:O})]})}var w=n(33);function L(e){var t=Object.assign({},e);return Object(y.jsx)("div",{className:"my-2 p-2 border border-secondary d-flex justify-content-between align-items-center",children:t.children})}function C(e){var t=e.repoList,n=e.repoSaveList,c=e.setRepoSaveList;return Object(y.jsxs)("div",{className:"app-search-repo-list shadow bg-light my-2 p-2",children:[t.length?Object(y.jsx)("p",{className:"py-2 font-weight-bold",children:"List wynik\xf3w"}):Object(y.jsx)("p",{className:"text-center p-3 m-0",children:"Brak wynik\xf3w dla podanej warto\u015bci"}),t.length?t.map((function(e){return Object(y.jsxs)(L,{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:e.full_name}),Object(y.jsx)("p",{children:e.owner.login})]}),Object(y.jsx)(p.a,{size:"sm",onClick:(t={id:e.id,name:e.full_name,owner:e.owner.login},function(){t.commentsList=[],n.filter((function(e){return e.id===t.id})).length||(c([].concat(Object(w.a)(n),[t])),localStorage.setItem(t.id,JSON.stringify(t)))}),children:"Dodaj do ulubionych"})]},e.id);var t})):null]})}var k=n(81),z=n(82);function I(e){var t=e.openCommentInput,n=e.setOpenCommentInput,s=e.repoSaveList,a=e.setRepoSaveList,i=e.commentedRepoId,o=e.setCommentedRepoId,l=Object(c.useState)(""),j=Object(r.a)(l,2),h=j[0],O=j[1],x=function(){h&&i&&(s.map((function(e){return e.id===i?e.commentsList.push({text:h,createDate:(new Date).toLocaleString().replace(/,/g,"")}):e})),a(s),localStorage.setItem(i,JSON.stringify(s[0]))),o(null),n(!1),O("")};return Object(y.jsxs)(g.a,{isOpen:t,centered:!0,children:[Object(y.jsx)(k.a,{children:"Dodaj komentarz"}),Object(y.jsx)(v.a,{children:Object(y.jsx)(d.a,{children:Object(y.jsxs)(m.a,{children:[Object(y.jsx)(u.a,{children:"Tw\xf3j komentarz:"}),Object(y.jsx)(b.a,{type:"textarea",name:"text",value:h,onChange:function(e){O(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&x()}})]})})}),Object(y.jsxs)(z.a,{className:"d-flex justify-content-between",children:[Object(y.jsx)(p.a,{size:"sm",color:"secondary",onClick:n,children:"Anuluj"}),Object(y.jsx)(p.a,{size:"sm",color:"danger",onClick:x,children:"Zapisz"})]})]})}function R(e){var t=e.setOpenCommentInput,n=e.repoSaveList,c=e.setRepoSaveList,s=e.setCommentedRepoId,a=function(e){return function(){var s=n.filter((function(t){return t.id!==e.id}));c(s),t(!1),localStorage.removeItem(e.id)}};return Object(y.jsxs)("div",{className:"app-save-repo-list shadow bg-light my-2 p-2",children:[n.length?Object(y.jsx)("p",{className:"py-2 font-weight-bold",children:"List zapisanych repozytori\xf3w"}):Object(y.jsx)("p",{className:"text-center p-3 m-0",children:"Brak zapisanych repozytori\xf3w"}),n.length?n.map((function(e){return Object(y.jsxs)("div",{className:"my-2 p-2 border border-secondary",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:e.name}),Object(y.jsx)("p",{children:e.owner})]}),Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-end",children:[Object(y.jsx)(p.a,{size:"sm",className:"mb-1",onClick:(n={id:e.id},function(){s(n.id),t(!0)}),children:"Dodaj komentarz"}),Object(y.jsx)(p.a,{size:"sm",onClick:a({id:e.id}),children:"Usu\u0144 z ulubionych"})]})]}),e.commentsList.length>0?Object(y.jsxs)("div",{className:"p-2 mt-2 bg-grey",children:[Object(y.jsx)("p",{className:"py-2 m-0 font-weight-bold",children:"Lista komentarzy"}),e.commentsList.map((function(e){return Object(y.jsxs)("div",{className:"mb-2 py-2 border-secondary border-top",children:[Object(y.jsx)("h6",{className:"font-weight-bold",children:e.text}),Object(y.jsx)("p",{className:"m-0",children:e.createDate})]},"comment-id-".concat(e.createDate))}))]}):null]},"save-id-".concat(e.id));var n})):null]})}function D(){for(var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),i=Object(r.a)(a,2),d=i[0],m=i[1],u=Object(c.useState)(!1),b=Object(r.a)(u,2),p=b[0],h=b[1],O=Object(c.useState)(null),x=Object(r.a)(O,2),f=x[0],g=x[1],v=[],S=0;S<localStorage.length;S++){var w=localStorage.key(S);v.push(JSON.parse(localStorage.getItem(w)))}return Object(c.useEffect)((function(){m(v)}),[]),Object(y.jsx)(o.a,{fluid:"xl",children:Object(y.jsxs)(l.a,{children:[Object(y.jsxs)(j.a,{lg:"7",children:[Object(y.jsx)(N,{setRepoList:s}),Object(y.jsx)(C,{repoList:n,repoSaveList:d,setRepoSaveList:m})]}),Object(y.jsx)(j.a,{lg:"5",children:Object(y.jsx)(R,{setOpenCommentInput:h,repoSaveList:d,setRepoSaveList:m,setCommentedRepoId:g})}),Object(y.jsx)(I,{openCommentInput:p,setOpenCommentInput:h,repoSaveList:d,setRepoSaveList:m,commentedRepoId:f,setCommentedRepoId:g})]})})}var E=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(D,{})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};n(71);i.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(E,{})}),document.getElementById("root")),T()}},[[72,1,2]]]);
//# sourceMappingURL=main.e53ab513.chunk.js.map